<?xml version="1.0" encoding="UTF-8"?>
<chapter id="installation">
   <chapterinfo>
      <author>
         <firstname>openmobster</firstname>
         <surname>at gmail.com</surname>
         <email>openmobster@gmail.com</email>
      </author>
   </chapterinfo>
   <title>Get Started</title>
   <sect1>
   	   <title>Cloud-Side: Installation</title>
   	   <sect2>
   			<title>Install Cloud Server</title>
   			<para>
   				<itemizedlist>
   					<listitem>
   						<emphasis role="bold">Step 1:</emphasis> Download and install JBoss-5.1.0.GA from <ulink url="http://www.jboss.org/jbossas/downloads/">here</ulink>
   					</listitem>
   					<listitem>
   						<emphasis role="bold">Step 2:</emphasis> 
   						Copy <emphasis>openmobster</emphasis> to the JBoss AS <emphasis>server</emphasis> directory. <emphasis>openmobster</emphasis> is a pre-configured/optimized instance for the OpenMobster Cloud Server
   					</listitem>
   					<listitem>
   						<emphasis role="bold">Step 3:</emphasis>
   						In the case of using MySQL5 as the database, modify openmobster-ds.xml according to your own MySql5 instance
   					</listitem>
   					<listitem>
   						<emphasis role="bold">Step 4:</emphasis>   
   						Start the JBoss AS instance with the OpenMobster binary installed using: run -c openmobster -b "a real IP address"
						<para>
							<emphasis>Note:</emphasis> A real IP address like "192.168.0.1" or something like that is needed for the mobile device to be able to connect to
							the server. Even in the case of a simulation environment, the device's browser does not connect to a loopback address like
							"localhost" or "127.0.0.1"
						</para>					
   					</listitem>
   					<listitem>
   						<emphasis role="bold">Step 5:</emphasis>
   						Verify the Cloud Server installation by typing in: http://{cloudserverIp}:{port}/o
   					</listitem>
   				</itemizedlist>
   			</para>
	   </sect2>
	   <sect2>
	   		<title>Provision a Device</title>
	   		<para>
	   			<itemizedlist>
	   				<listitem>
	   					<emphasis role="bold">Start the Management Console:</emphasis>
	   					Execute openmobster.sh or openmobster.bat located under cloudConsole/bin
	   				</listitem>
	   				<listitem>
	   					<emphasis role="bold">Setup 'Root' User:</emphasis>
	   					If this the first time being used, use the configure command:
						configure -a {cloudServer Ip Address} -po 1502 -u root -p {whatever root password you can remember}
						<para>
							<emphasis>Note:</emphasis>This is the user who is allowed to use the <emphasis role="bold">Management Console</emphasis>, not to be confused with other accounts that will be created.
							The accounts that will be created are the actual users that will connect to the "Cloud Server" via their Mobile Apps loaded on their respective devices.
						</para>
	   				</listitem>
	   				<listitem>
	   					<emphasis role="bold">Login to the Cloud Server as 'Root' for Management functions:</emphasis>
	   					startadmin -u root -p {whatever password was setup}
	   				</listitem>
	   				<listitem>
	   					<emphasis role="bold">Setup a 'User' account used by Mobile Apps:</emphasis>
	   					register -u {email of the user being registered} -p {whatever password that you want to associate with this account}
	   				</listitem>
	   			</itemizedlist>
	   		</para>
	   </sect2>
   </sect1>
   <sect1>
       <title>Device-Side: Installation</title>
       <para>
	       	<emphasis role="bold">Mobile Cloud</emphasis> infrastructure runtimes <emphasis>MUST</emphasis> be installed on each device, before the device can integrate with
			the "Cloud Server". Think of them as bootstrap binaries.
	   </para>
	   <para>
			Each mobile platform will have its corresponding set of artifacts that must be first installed on the device. 
       </para>
       <para>
			The current version consists of <emphasis role="bold">Blackberry RIM OS 4.3.0+ support</emphasis>
       </para>
	   <sect2>
	   		<title>Install Mobile Cloud on the Blackberry device</title>
	   		<para>
	   			There are two ways to install the Blackberry binaries: <emphasis>Over-The-Air (OTA)</emphasis>, or <emphasis>Desktop Sync</emphasis>
	   		</para>
	   		<sect3>
	   			<title>Over-The-Air (OTA)</title>
	   			<para>
		   			If you have a <emphasis>Cloud Server</emphasis> running and accessible from the Internet, you can simply download these binaries from the built-in browser
					of the device.
				</para>
				<para>
					Download the following and follow the instructions provided by the device:
					<itemizedlist>
						<listitem>
							http://{cloudServer IP}:{cloudServer port}/o/apps/rimos/430/mobileCloud.jad
						</listitem>
						<listitem>
							http://{cloudServer IP}:{cloudServer port}/o/apps/rimos/430/cloudManager.jad
						</listitem>
					</itemizedlist>
	   			</para>
	   		</sect3>
	   		<sect3>
	   			<title>Desktop Sync</title>
	   			<para>If you want to install it via desktop synchronization, just install the following 'cod' files.
	   				<itemizedlist>
						<listitem>
							blackberry-4.3.0/bin/mobileCloud.cod
						</listitem>
						<listitem>
							blackberry-4.3.0/bin/cloudManager.cod
						</listitem>
					</itemizedlist>
	   			</para>
	   		</sect3>
	   </sect2>
	   <sect2>
	   		<title>Device Activation</title>
	   		<para>
	   			<itemizedlist>
	   				<listitem>
	   					<emphasis role="bold">Step 1:</emphasis>
	   					Launch the 'cloudManager' app.
	   				</listitem>
	   				<listitem>
	   					<emphasis role="bold">Step 2:</emphasis>
	   					Select the 'Activate' function.
	   				</listitem>
	   				<listitem>
	   					<emphasis role="bold">Step 3:</emphasis>
	   					Follow the wizard and provide the appropriate values
	   					<itemizedlist>
							<listitem><emphasis>Server :</emphasis> IP Address of the Cloud Server</listitem>
							<listitem><emphasis>Email :</emphasis> The user id that was used to register the user via the Management Console</listitem>
							<listitem><emphasis>Password:</emphasis> The password that was used to register the user via the Management Console</listitem>
						</itemizedlist>
	   				</listitem>
	   			</itemizedlist>
	   		</para>
	   </sect2>
	   <sect2>
	   		<title>Blackberry Signing Process</title>
	   		<para>
		   		Blackberry has a selected set of APIs which require "signing" the binary (.cod) before installing it on the device. The <emphasis>OpenMobster</emphasis>
	   		 	binaries makes use of these APIs, and hence requires "signing" before installing it on the device. For more information about the
	   		 	"signing" process: <ulink url="http://na.blackberry.com/eng/developers/javaappdev/codekeys.jsp">Signing Process</ulink>
	   		</para>
	   		<para>
	   			Code Signing is not required for installing/testing Apps in a simulation environment. In fact all the <emphasis>OpenMobster</emphasis> binaries have been
   		 		thoroughly tested on a 4.3.0 OS simulator. All tests have passed without any errors, warnings, or crashes.
	   		</para>
	   		<para>
	   			At the time of this first community release, the <emphasis>OpenMobster</emphasis> Blackberry binaries have not been signed or tested on an actual device.
 				However, the developer can sign and distribute these binaries along with their Apps, if they
 				possess their own signing key. In the future, the binaries should come signed with the keys issued by RIM to <emphasis>OpenMobster Community</emphasis> 
	   		</para>
	   </sect2>
   </sect1>
   <sect1>
   		<title>Installing Examples</title>
   		<sect2>
	   		<title>Install Examples on the Cloud Server</title>
	   		<itemizedlist>
	   			<listitem>
	   				Copy <emphasis>examples/offline-app/offline-app.jar</emphasis> to your <emphasis>{jboss}/server/openmobster/deploy</emphasis> directory
	   			</listitem>
	   			<listitem>
	   				Copy <emphasis>examples/mobile-rpc/mobile-rpc.jar</emphasis> to your <emphasis>{jboss}/server/openmobster/deploy</emphasis> directory
	   			</listitem>
	   			<listitem>
	   				Restart your Cloud Server
	   			</listitem>
	   		</itemizedlist>
	   </sect2>
	   <sect2>
	   		<title>Install Examples on the Device</title>
	   		<para>
	   			Using your <emphasis>cloudManager App</emphasis>, install the deployed Moblets/Apps using the <emphasis>App Store</emphasis> function 
	   		</para>
	   </sect2>
   </sect1>
</chapter>
