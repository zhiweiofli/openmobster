CREATE USER SA PASSWORD "" ADMIN
/*C1*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
/*C2*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
/*C1*/INSERT INTO OPENMOBSTER_IDENTITY VALUES(1,'blah@gmail.com','')
COMMIT
INSERT INTO OPENMOBSTER_DEVICE VALUES(1,'IMEI:4930051',1)
INSERT INTO OPENMOBSTER_DEVICE_ATTRIBUTE VALUES(1,'email','blah@gmail.com')
INSERT INTO OPENMOBSTER_DEVICE_ATTRIBUTES VALUES(1,1)
COMMIT
/*C2*/DISCONNECT
/*C1*/DISCONNECT
/*C3*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
/*C4*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
/*C3*/INSERT INTO OPENMOBSTER_IDENTITY VALUES(1,'blah@gmail.com','')
COMMIT
INSERT INTO OPENMOBSTER_DEVICE VALUES(1,'IMEI:4930051',1)
INSERT INTO OPENMOBSTER_DEVICE_ATTRIBUTE VALUES(1,'email','blah@gmail.com')
INSERT INTO OPENMOBSTER_DEVICE_ATTRIBUTES VALUES(1,1)
COMMIT
DELETE FROM OPENMOBSTER_DEVICE_ATTRIBUTES WHERE DEVICEID=1 AND ELT=1
DELETE FROM OPENMOBSTER_DEVICE_ATTRIBUTE WHERE ATTRIBUTEID=1
DELETE FROM OPENMOBSTER_DEVICE WHERE DEVICEID=1
COMMIT
/*C4*/DISCONNECT
/*C3*/DISCONNECT
/*C5*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
/*C6*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
/*C5*/INSERT INTO OPENMOBSTER_IDENTITY VALUES(1,'blah@gmail.com','')
COMMIT
INSERT INTO OPENMOBSTER_DEVICE VALUES(1,'IMEI:4930051',1)
INSERT INTO OPENMOBSTER_DEVICE_ATTRIBUTE VALUES(1,'email','blah@gmail.com')
INSERT INTO OPENMOBSTER_DEVICE_ATTRIBUTES VALUES(1,1)
COMMIT
DELETE FROM OPENMOBSTER_DEVICE WHERE DEVICEID=1
INSERT INTO OPENMOBSTER_DEVICE VALUES(1,'IMEI:4930051/updated',1)
DELETE FROM OPENMOBSTER_DEVICE_ATTRIBUTE WHERE ATTRIBUTEID=1
INSERT INTO OPENMOBSTER_DEVICE_ATTRIBUTE VALUES(1,'email','blah@gmail.com')
COMMIT
/*C6*/DISCONNECT
/*C5*/DISCONNECT
/*C7*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
/*C8*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
/*C7*/INSERT INTO OPENMOBSTER_IDENTITY VALUES(1,'blah@gmail.com','')
COMMIT
INSERT INTO OPENMOBSTER_DEVICE VALUES(1,'IMEI:4930051',1)
INSERT INTO OPENMOBSTER_DEVICE_ATTRIBUTE VALUES(1,'email','blah@gmail.com')
INSERT INTO OPENMOBSTER_DEVICE_ATTRIBUTE VALUES(2,'sms','8675309')
INSERT INTO OPENMOBSTER_DEVICE_ATTRIBUTES VALUES(1,1)
INSERT INTO OPENMOBSTER_DEVICE_ATTRIBUTES VALUES(1,2)
COMMIT
INSERT INTO OPENMOBSTER_DEVICE_ATTRIBUTE VALUES(3,'phone','911')
DELETE FROM OPENMOBSTER_DEVICE WHERE DEVICEID=1
INSERT INTO OPENMOBSTER_DEVICE VALUES(1,'IMEI:4930051',1)
DELETE FROM OPENMOBSTER_DEVICE_ATTRIBUTE WHERE ATTRIBUTEID=1
INSERT INTO OPENMOBSTER_DEVICE_ATTRIBUTE VALUES(1,'email','blah/updated@gmail.com')
DELETE FROM OPENMOBSTER_DEVICE_ATTRIBUTES WHERE DEVICEID=1 AND ELT=2
INSERT INTO OPENMOBSTER_DEVICE_ATTRIBUTES VALUES(1,3)
DELETE FROM OPENMOBSTER_DEVICE_ATTRIBUTE WHERE ATTRIBUTEID=2
COMMIT
/*C8*/DISCONNECT
/*C7*/DISCONNECT
/*C9*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
/*C10*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
/*C9*/INSERT INTO OPENMOBSTER_IDENTITY VALUES(1,'blah@gmail.com','')
COMMIT
INSERT INTO OPENMOBSTER_DEVICE VALUES(1,'IMEI:4930051',1)
INSERT INTO OPENMOBSTER_DEVICE_ATTRIBUTE VALUES(1,'email','blah@gmail.com')
INSERT INTO OPENMOBSTER_DEVICE_ATTRIBUTES VALUES(1,1)
COMMIT
DELETE FROM OPENMOBSTER_DEVICE_ATTRIBUTES WHERE DEVICEID=1 AND ELT=1
DELETE FROM OPENMOBSTER_DEVICE_ATTRIBUTE WHERE ATTRIBUTEID=1
DELETE FROM OPENMOBSTER_DEVICE WHERE DEVICEID=1
COMMIT
/*C10*/DISCONNECT
/*C9*/DISCONNECT
/*C11*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
/*C12*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
DISCONNECT
/*C11*/DISCONNECT
/*C13*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
/*C14*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
/*C13*/INSERT INTO OPENMOBSTER_IDENTITY VALUES(1,'admin','adminpassword')
INSERT INTO OPENMOBSTER_IDENTITY_ATTRIBUTE VALUES(1,'testId','Test Id')
INSERT INTO OPENMOBSTER_IDENTITY_ATTRIBUTES VALUES(1,1)
COMMIT
INSERT INTO OPENMOBSTER_GROUP VALUES(1,'administrator')
INSERT INTO OPENMOBSTER_GROUP_ATTRIBUTE VALUES(1,'testGroup','Test Group')
INSERT INTO OPENMOBSTER_GROUP_ATTRIBUTES VALUES(1,1)
INSERT INTO OPENMOBSTER_IDENTITY_GROUP VALUES(1,1)
COMMIT
DELETE FROM OPENMOBSTER_GROUP WHERE GROUPID=1
INSERT INTO OPENMOBSTER_GROUP VALUES(1,'administrator')
DELETE FROM OPENMOBSTER_GROUP_ATTRIBUTE WHERE ATTRIBUTEID=1
INSERT INTO OPENMOBSTER_GROUP_ATTRIBUTE VALUES(1,'testGroup','Test Group')
COMMIT
DELETE FROM OPENMOBSTER_GROUP WHERE GROUPID=1
INSERT INTO OPENMOBSTER_GROUP VALUES(1,'administrator')
DELETE FROM OPENMOBSTER_GROUP_ATTRIBUTE WHERE ATTRIBUTEID=1
INSERT INTO OPENMOBSTER_GROUP_ATTRIBUTE VALUES(1,'testGroup','Test Group')
COMMIT
/*C14*/DISCONNECT
/*C13*/DISCONNECT
/*C15*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
/*C16*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
/*C15*/INSERT INTO OPENMOBSTER_IDENTITY VALUES(1,'admin','adminpassword')
INSERT INTO OPENMOBSTER_IDENTITY_ATTRIBUTE VALUES(1,'testId','Test Id')
INSERT INTO OPENMOBSTER_IDENTITY_ATTRIBUTES VALUES(1,1)
COMMIT
INSERT INTO OPENMOBSTER_GROUP VALUES(1,'administrator')
INSERT INTO OPENMOBSTER_GROUP_ATTRIBUTE VALUES(1,'testGroup','Test Group')
INSERT INTO OPENMOBSTER_GROUP_ATTRIBUTES VALUES(1,1)
INSERT INTO OPENMOBSTER_IDENTITY_GROUP VALUES(1,1)
COMMIT
INSERT INTO OPENMOBSTER_IDENTITY VALUES(2,'testAdd','testaddpassword')
INSERT INTO OPENMOBSTER_IDENTITY_ATTRIBUTE VALUES(2,'testAddId','Test Add Id')
INSERT INTO OPENMOBSTER_IDENTITY_ATTRIBUTES VALUES(2,2)
COMMIT
DELETE FROM OPENMOBSTER_GROUP WHERE GROUPID=1
INSERT INTO OPENMOBSTER_GROUP VALUES(1,'administrator')
DELETE FROM OPENMOBSTER_GROUP_ATTRIBUTE WHERE ATTRIBUTEID=1
INSERT INTO OPENMOBSTER_GROUP_ATTRIBUTE VALUES(1,'testGroup','Test Group')
INSERT INTO OPENMOBSTER_IDENTITY_GROUP VALUES(2,1)
COMMIT
DELETE FROM OPENMOBSTER_GROUP WHERE GROUPID=1
INSERT INTO OPENMOBSTER_GROUP VALUES(1,'administrator')
DELETE FROM OPENMOBSTER_GROUP_ATTRIBUTE WHERE ATTRIBUTEID=1
INSERT INTO OPENMOBSTER_GROUP_ATTRIBUTE VALUES(1,'testGroup','Test Group')
DELETE FROM OPENMOBSTER_IDENTITY_GROUP WHERE GROUPID=1 AND IDENTITYID=1
COMMIT
DELETE FROM OPENMOBSTER_GROUP WHERE GROUPID=1
INSERT INTO OPENMOBSTER_GROUP VALUES(1,'administrator')
DELETE FROM OPENMOBSTER_GROUP_ATTRIBUTE WHERE ATTRIBUTEID=1
INSERT INTO OPENMOBSTER_GROUP_ATTRIBUTE VALUES(1,'testGroup','Test Group')
COMMIT
DELETE FROM OPENMOBSTER_GROUP WHERE GROUPID=1
INSERT INTO OPENMOBSTER_GROUP VALUES(1,'administrator')
DELETE FROM OPENMOBSTER_GROUP_ATTRIBUTE WHERE ATTRIBUTEID=1
INSERT INTO OPENMOBSTER_GROUP_ATTRIBUTE VALUES(1,'testGroup','Test Group')
COMMIT
/*C16*/DISCONNECT
/*C15*/DISCONNECT
/*C17*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
/*C18*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
/*C17*/INSERT INTO OPENMOBSTER_IDENTITY VALUES(1,'admin','adminpassword')
INSERT INTO OPENMOBSTER_IDENTITY_ATTRIBUTE VALUES(1,'testId','Test Id')
INSERT INTO OPENMOBSTER_IDENTITY_ATTRIBUTES VALUES(1,1)
COMMIT
INSERT INTO OPENMOBSTER_GROUP VALUES(1,'administrator')
INSERT INTO OPENMOBSTER_GROUP_ATTRIBUTE VALUES(1,'testGroup','Test Group')
INSERT INTO OPENMOBSTER_GROUP_ATTRIBUTES VALUES(1,1)
INSERT INTO OPENMOBSTER_IDENTITY_GROUP VALUES(1,1)
COMMIT
DELETE FROM OPENMOBSTER_IDENTITY WHERE IDENTITYID=1
INSERT INTO OPENMOBSTER_IDENTITY VALUES(1,'admin','adminpassword')
DELETE FROM OPENMOBSTER_IDENTITY_ATTRIBUTE WHERE ATTRIBUTEID=1
INSERT INTO OPENMOBSTER_IDENTITY_ATTRIBUTE VALUES(1,'testId','Test Id')
COMMIT
/*C18*/DISCONNECT
/*C17*/DISCONNECT
/*C19*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
/*C20*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
/*C19*/INSERT INTO OPENMOBSTER_GROUP VALUES(1,'administrator')
INSERT INTO OPENMOBSTER_GROUP_ATTRIBUTE VALUES(1,'description','Super User')
INSERT INTO OPENMOBSTER_GROUP_ATTRIBUTES VALUES(1,1)
COMMIT
/*C20*/DISCONNECT
/*C19*/DISCONNECT
/*C21*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
/*C22*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
/*C21*/INSERT INTO OPENMOBSTER_GROUP VALUES(1,'administrator')
INSERT INTO OPENMOBSTER_GROUP_ATTRIBUTE VALUES(1,'description','Super User')
INSERT INTO OPENMOBSTER_GROUP_ATTRIBUTES VALUES(1,1)
COMMIT
DELETE FROM OPENMOBSTER_GROUP WHERE GROUPID=1
INSERT INTO OPENMOBSTER_GROUP VALUES(1,'administrator/updated')
DELETE FROM OPENMOBSTER_GROUP_ATTRIBUTE WHERE ATTRIBUTEID=1
INSERT INTO OPENMOBSTER_GROUP_ATTRIBUTE VALUES(1,'description','Super User')
COMMIT
/*C22*/DISCONNECT
/*C21*/DISCONNECT
/*C23*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
/*C24*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
/*C23*/INSERT INTO OPENMOBSTER_GROUP VALUES(1,'administrator')
INSERT INTO OPENMOBSTER_GROUP_ATTRIBUTE VALUES(1,'testRemove','Test Remove')
INSERT INTO OPENMOBSTER_GROUP_ATTRIBUTE VALUES(2,'testUpdate','Test Update')
INSERT INTO OPENMOBSTER_GROUP_ATTRIBUTES VALUES(1,1)
INSERT INTO OPENMOBSTER_GROUP_ATTRIBUTES VALUES(1,2)
COMMIT
INSERT INTO OPENMOBSTER_GROUP_ATTRIBUTE VALUES(3,'testAdd','Test Add')
DELETE FROM OPENMOBSTER_GROUP WHERE GROUPID=1
INSERT INTO OPENMOBSTER_GROUP VALUES(1,'administrator')
DELETE FROM OPENMOBSTER_GROUP_ATTRIBUTE WHERE ATTRIBUTEID=2
INSERT INTO OPENMOBSTER_GROUP_ATTRIBUTE VALUES(2,'testUpdate','Test Update/updated')
DELETE FROM OPENMOBSTER_GROUP_ATTRIBUTES WHERE GROUPID=1 AND ELT=1
INSERT INTO OPENMOBSTER_GROUP_ATTRIBUTES VALUES(1,3)
DELETE FROM OPENMOBSTER_GROUP_ATTRIBUTE WHERE ATTRIBUTEID=1
COMMIT
/*C24*/DISCONNECT
/*C23*/DISCONNECT
/*C25*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
/*C26*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
/*C25*/INSERT INTO OPENMOBSTER_GROUP VALUES(1,'administrator')
INSERT INTO OPENMOBSTER_GROUP_ATTRIBUTE VALUES(1,'testRemove','Test Remove')
INSERT INTO OPENMOBSTER_GROUP_ATTRIBUTE VALUES(2,'testUpdate','Test Update')
INSERT INTO OPENMOBSTER_GROUP_ATTRIBUTES VALUES(1,1)
INSERT INTO OPENMOBSTER_GROUP_ATTRIBUTES VALUES(1,2)
COMMIT
DELETE FROM OPENMOBSTER_GROUP_ATTRIBUTES WHERE GROUPID=1 AND ELT=1
DELETE FROM OPENMOBSTER_GROUP_ATTRIBUTES WHERE GROUPID=1 AND ELT=2
DELETE FROM OPENMOBSTER_GROUP_ATTRIBUTE WHERE ATTRIBUTEID=1
DELETE FROM OPENMOBSTER_GROUP_ATTRIBUTE WHERE ATTRIBUTEID=2
DELETE FROM OPENMOBSTER_GROUP WHERE GROUPID=1
COMMIT
/*C26*/DISCONNECT
/*C25*/DISCONNECT
/*C27*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
/*C28*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
INSERT INTO OPENMOBSTER_GROUP VALUES(1,'standard')
COMMIT
INSERT INTO OPENMOBSTER_IDENTITY VALUES(1,'blah@gmail.com','mqsqmafdMkgAbGyX3k6wNzXgr2PsnjrTo73deXuPAC+OqDJ7AHOQ2Wx5ScC3/5+cOg7zr7vLMTIMz5Z9MUDXqA==')
INSERT INTO OPENMOBSTER_IDENTITY_ATTRIBUTE VALUES(1,'email','blah@gmail.com')
INSERT INTO OPENMOBSTER_IDENTITY_ATTRIBUTE VALUES(2,'active','true')
INSERT INTO OPENMOBSTER_IDENTITY_ATTRIBUTE VALUES(3,'inactive_credential','blahblah')
INSERT INTO OPENMOBSTER_IDENTITY_ATTRIBUTES VALUES(1,1)
INSERT INTO OPENMOBSTER_IDENTITY_ATTRIBUTES VALUES(1,2)
INSERT INTO OPENMOBSTER_IDENTITY_ATTRIBUTES VALUES(1,3)
INSERT INTO OPENMOBSTER_IDENTITY_GROUP VALUES(1,1)
COMMIT
INSERT INTO OPENMOBSTER_DEVICE VALUES(1,'IMEI:567890',1)
INSERT INTO OPENMOBSTER_DEVICE_ATTRIBUTE VALUES(1,'nonce','mqsqmafdMkgAbGyX3k6wNzXgr2PsnjrTo73deXuPAC+OqDJ7AHOQ2Wx5ScC3/5+cOg7zr7vLMTIMz5Z9MUDXqA==')
INSERT INTO OPENMOBSTER_DEVICE_ATTRIBUTES VALUES(1,1)
COMMIT
DISCONNECT
/*C27*/DISCONNECT
/*C29*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
/*C30*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
INSERT INTO OPENMOBSTER_GROUP VALUES(1,'standard')
COMMIT
INSERT INTO OPENMOBSTER_IDENTITY VALUES(1,'blah@gmail.com','buM8Ika/NmWWW0BSdhGy3fzj/xQBeErnRsTvDevEPSaVpADEQ8taCB6k+PvNI7rezlR/p0SkT9Exm9i5g61Qaw==')
INSERT INTO OPENMOBSTER_IDENTITY_ATTRIBUTE VALUES(1,'inactive_credential','blahblah')
INSERT INTO OPENMOBSTER_IDENTITY_ATTRIBUTE VALUES(2,'email','blah@gmail.com')
INSERT INTO OPENMOBSTER_IDENTITY_ATTRIBUTE VALUES(3,'active','true')
INSERT INTO OPENMOBSTER_IDENTITY_ATTRIBUTES VALUES(1,1)
INSERT INTO OPENMOBSTER_IDENTITY_ATTRIBUTES VALUES(1,2)
INSERT INTO OPENMOBSTER_IDENTITY_ATTRIBUTES VALUES(1,3)
INSERT INTO OPENMOBSTER_IDENTITY_GROUP VALUES(1,1)
COMMIT
INSERT INTO OPENMOBSTER_DEVICE VALUES(1,'IMEI:567890',1)
INSERT INTO OPENMOBSTER_DEVICE_ATTRIBUTE VALUES(1,'nonce','buM8Ika/NmWWW0BSdhGy3fzj/xQBeErnRsTvDevEPSaVpADEQ8taCB6k+PvNI7rezlR/p0SkT9Exm9i5g61Qaw==')
INSERT INTO OPENMOBSTER_DEVICE_ATTRIBUTES VALUES(1,1)
COMMIT
DISCONNECT
/*C29*/DISCONNECT
/*C31*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
/*C32*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
INSERT INTO OPENMOBSTER_GROUP VALUES(1,'standard')
COMMIT
INSERT INTO OPENMOBSTER_IDENTITY VALUES(1,'blah@gmail.com','9zZ8+PbMSTCCJRzXr/FSVtxbKElKrSmJEWndmP5LgivzpJJ7RytnYGwMhOQd0/FX9j5wCmmUd6+Ogx54HrL7iQ==')
INSERT INTO OPENMOBSTER_IDENTITY_ATTRIBUTE VALUES(1,'inactive_credential','blahblah')
INSERT INTO OPENMOBSTER_IDENTITY_ATTRIBUTE VALUES(2,'active','true')
INSERT INTO OPENMOBSTER_IDENTITY_ATTRIBUTE VALUES(3,'email','blah@gmail.com')
INSERT INTO OPENMOBSTER_IDENTITY_ATTRIBUTES VALUES(1,1)
INSERT INTO OPENMOBSTER_IDENTITY_ATTRIBUTES VALUES(1,2)
INSERT INTO OPENMOBSTER_IDENTITY_ATTRIBUTES VALUES(1,3)
INSERT INTO OPENMOBSTER_IDENTITY_GROUP VALUES(1,1)
COMMIT
INSERT INTO OPENMOBSTER_DEVICE VALUES(1,'IMEI:567890',1)
INSERT INTO OPENMOBSTER_DEVICE_ATTRIBUTE VALUES(1,'nonce','9zZ8+PbMSTCCJRzXr/FSVtxbKElKrSmJEWndmP5LgivzpJJ7RytnYGwMhOQd0/FX9j5wCmmUd6+Ogx54HrL7iQ==')
INSERT INTO OPENMOBSTER_DEVICE_ATTRIBUTES VALUES(1,1)
COMMIT
DISCONNECT
/*C31*/DISCONNECT
/*C33*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
/*C34*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
/*C33*/INSERT INTO OPENMOBSTER_IDENTITY VALUES(1,'admin','adminPassword')
INSERT INTO OPENMOBSTER_IDENTITY_ATTRIBUTE VALUES(1,'email','blah@gmail.com')
INSERT INTO OPENMOBSTER_IDENTITY_ATTRIBUTES VALUES(1,1)
COMMIT
/*C34*/DISCONNECT
/*C33*/DISCONNECT
/*C35*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
/*C36*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
/*C35*/INSERT INTO OPENMOBSTER_IDENTITY VALUES(1,'admin','adminPassword')
INSERT INTO OPENMOBSTER_IDENTITY_ATTRIBUTE VALUES(1,'email','blah@gmail.com')
INSERT INTO OPENMOBSTER_IDENTITY_ATTRIBUTES VALUES(1,1)
COMMIT
/*C36*/DISCONNECT
/*C35*/DISCONNECT
/*C37*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
/*C38*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
/*C37*/INSERT INTO OPENMOBSTER_IDENTITY VALUES(1,'admin','adminPassword')
INSERT INTO OPENMOBSTER_IDENTITY_ATTRIBUTE VALUES(1,'email','blah@gmail.com')
INSERT INTO OPENMOBSTER_IDENTITY_ATTRIBUTES VALUES(1,1)
COMMIT
DELETE FROM OPENMOBSTER_IDENTITY WHERE IDENTITYID=1
INSERT INTO OPENMOBSTER_IDENTITY VALUES(1,'admin/updated','adminPassword/updated')
DELETE FROM OPENMOBSTER_IDENTITY_ATTRIBUTE WHERE ATTRIBUTEID=1
INSERT INTO OPENMOBSTER_IDENTITY_ATTRIBUTE VALUES(1,'email','blah@gmail.com')
COMMIT
/*C38*/DISCONNECT
/*C37*/DISCONNECT
/*C39*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
create table openmobster_device_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_device_attributes (deviceId bigint not null, elt bigint not null, primary key (deviceId, elt), unique (elt))
create table openmobster_group (groupId bigint generated by default as identity (start with 1), name varchar(255) not null, primary key (groupId), unique (name))
create table openmobster_group_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_group_attributes (groupId bigint not null, elt bigint not null, primary key (groupId, elt), unique (elt))
create table openmobster_identity (identityId bigint generated by default as identity (start with 1), principal varchar(255) not null, credential varchar(255) not null, primary key (identityId), unique (principal))
create table openmobster_identity_attribute (attributeId bigint generated by default as identity (start with 1), name varchar(255) not null, value varchar(255) not null, primary key (attributeId))
create table openmobster_identity_attributes (identityId bigint not null, elt bigint not null, primary key (identityId, elt), unique (elt))
create table openmobster_identity_group (identityId bigint not null, groupId bigint not null, primary key (groupId, identityId))
alter table openmobster_device add constraint FK4FCAC6B12DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_device_attributes add constraint FKDEBCCFA57674144C foreign key (deviceId) references openmobster_device
alter table openmobster_device_attributes add constraint FKDEBCCFA5F2AA232E foreign key (elt) references openmobster_device_attribute
alter table openmobster_group_attributes add constraint FKA46F85B2CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_group_attributes add constraint FKA46F85B28BD71FE7 foreign key (elt) references openmobster_group_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFDC3C9BAAE foreign key (elt) references openmobster_identity_attribute
alter table openmobster_identity_attributes add constraint FKB77E4EFD2DF66534 foreign key (identityId) references openmobster_identity
alter table openmobster_identity_group add constraint FK7C3CE119CD4AA55C foreign key (groupId) references openmobster_group
alter table openmobster_identity_group add constraint FK7C3CE1192DF66534 foreign key (identityId) references openmobster_identity
SET AUTOCOMMIT FALSE
/*C40*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table openmobster_device drop constraint FK4FCAC6B12DF66534
alter table openmobster_device_attributes drop constraint FKDEBCCFA57674144C
alter table openmobster_device_attributes drop constraint FKDEBCCFA5F2AA232E
alter table openmobster_group_attributes drop constraint FKA46F85B2CD4AA55C
alter table openmobster_group_attributes drop constraint FKA46F85B28BD71FE7
alter table openmobster_identity_attributes drop constraint FKB77E4EFDC3C9BAAE
alter table openmobster_identity_attributes drop constraint FKB77E4EFD2DF66534
alter table openmobster_identity_group drop constraint FK7C3CE119CD4AA55C
alter table openmobster_identity_group drop constraint FK7C3CE1192DF66534
drop table openmobster_device if exists
drop table openmobster_device_attribute if exists
drop table openmobster_device_attributes if exists
drop table openmobster_group if exists
drop table openmobster_group_attribute if exists
drop table openmobster_group_attributes if exists
drop table openmobster_identity if exists
drop table openmobster_identity_attribute if exists
drop table openmobster_identity_attributes if exists
drop table openmobster_identity_group if exists
create table openmobster_device (deviceId bigint generated by default as identity (start with 1), identifier varchar(255) not null, identityId bigint not null, primary key (deviceId), unique (identifier), unique (identityId))
